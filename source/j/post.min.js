!function(e,t){"use strict";if("querySelectorAll"in t){var n=t.createElement("script"),o=t.querySelector(".entry__jump--webmentions a"),i=t.querySelectorAll(".webmentions__item").length;o.innerHTML=i+" "+o.innerHTML,"AG"in e&&"preconnect"in e.AG?(e.AG.preconnect("//disqus.com/"),e.AG.preconnect("//aarongustafson.disqus.com"),e.AG.preconnect("//links.services.disqus.com/"),e.AG.preconnect("//a.disquscdn.com")):console.log("No preconnect"),n.async=!0,n.type="text/javascript",n.src="//aarongustafson.disqus.com/count.js",(t.head||t.body).appendChild(n)}}(this,this.document),function(e,t){"use strict";var n=t.createElement("script"),o="//"+disqus_shortname+".disqus.com/"+disqus_script;"AG"in e&&"preconnect"in e.AG&&(e.AG.preconnect("//disqus.com/"),e.AG.preconnect("//aarongustafson.disqus.com"),e.AG.preconnect("//links.services.disqus.com/"),e.AG.preconnect("//a.disquscdn.com"),e.AG.prefetch("//use.typekit.net/jje3afr.js"),e.AG.prefetch(o),o.indexOf("count")<0&&e.AG.prefetch("//"+disqus_shortname+".disqus.com/count.js")),n.type="text/javascript",n.async=!0,n.src=o,(t.head||t.body).appendChild(n),n=null}(this,this.document),function(){"use strict";if("onLine"in window.navigator){var e,t,n=!window.navigator.onLine;n&&(e=document.createElement("p"),e.innerText="Your internet connection is currently offline, so I can’t load in the comment thread from Disqus.",t=document.getElementById("disqus"),t.appendChild(e),e=null,t=null)}}(),function(e){"use strict";if("querySelectorAll"in e){var t,n,o,i,a,r,l,c,s=e.querySelectorAll("[data-quotable]"),d=s.length,u=/^(blockquote|[uod]l|p|h[1-6])$/,p=/^(body|main|section|article|aside)$/,m=/^h[1-6]$/;if(d)for(a=e.createElement("blockquote"),a.setAttribute("class","quotable"),a.setAttribute("aria-hidden","true"),a.appendChild(e.createElement("p"));d--;){for(t=s[d],n=a.cloneNode(!0),o=t.innerText.split(" "),i=o.pop(),n.querySelector("p").innerText=o.join(" ")+" "+i;!t.nodeName.toLowerCase().match(u)&&!t.nodeName.toLowerCase().match(p);)t=t.parentNode;for(r=t.parentNode,l=t.previousElementSibling;l;){if(l.nodeName.toLowerCase().match(m)){c=l;break}l=l.previousElementSibling}if(c)for(l=c.nextElementSibling.nextElementSibling;"blockquote"==l.nodeName.toLowerCase();)l=l.nextElementSibling.nextElementSibling;l?r.insertBefore(n,l):r.insertBefore(n,t)}}}(document),function(e,t){"use strict";function n(t){var n=t.target;return"a"==t.target.nodeName.toLowerCase()&&e.innerWidth>=i?(t.preventDefault(),e.open(n.href,"share-this","height=300,width=500,status=no,toolbar=no"),!1):void 0}if("querySelectorAll"in t){var o=t.querySelectorAll(".entry__sharing"),i=640;o.length>0&&o[0].addEventListener("click",n,!1)}}(this,this.document),function(e){"use strict";function t(){for(var e=document.getElementById("webmentions").getElementsByTagName("img"),t=e.length;t--;)e[t].naturalWidth||(e[t].style.visibility="hidden");e=null}"addEventListener"in e&&e.addEventListener("load",t,!1)}(this),function(e,t){"use strict";function n(e){var n=!("data"in e),o=n?e:e.data,i=n?e.element_id:e.id;if(o.url&&o.url.indexOf("twitter.com/")>-1&&(i=o.url.replace(/^.*?status\/(.*)$/,"$1")),!(f.indexOf(i)>-1)){var a,d,p=t.querySelectorAll("#webmention-"+i),m=l.li.cloneNode(!0),h=l.article.cloneNode(!0),b=l.author.cloneNode(!0),N=l.author_name.cloneNode(!0),g=l.author_link.cloneNode(!0),w=l.photo.cloneNode(!0),y=l.meta.cloneNode(!0),_=l.time.cloneNode(!0),A=o.name,v=o.content,q=o.url||e.source,C=e.activity.type,E="like"==C||"repost"==C,S=e.activity.sentence_html,G=o.author?o.author.name:!1,k=o.author?o.author.photo:!1,x=o.published||e.verified_date,T="";m.id="webmention-"+i,m.appendChild(h),(A||v)&&(G&&(g.href=o.author.url,k&&(w.src=k,g.appendChild(w)),N.appendChild(t.createTextNode(G)),g.appendChild(N),b.appendChild(g),h.appendChild(b),E&&(A=G+" "+A,h.className+=" webmention--author-starts")),x&&(_.setAttribute("datetime",x),x=new Date(x),T+=x.getUTCDate()+" ",T+=s[x.getUTCMonth()]+" ",T+=x.getUTCFullYear(),_.appendChild(t.createTextNode(T)),y.appendChild(_),q&!E&&y.appendChild(t.createTextNode(" | "))),q&!E&&(d=l.permalink.cloneNode(!0),d.href=q,y.appendChild(d)),"reply"==C&&(A=!1),A&&v&&A==v&&(A=!1),A?(h.className+=" webmention--title-only",A=A.replace("reposts","reposted"),q?(d=l.a.cloneNode(!0),d.href=q,d.appendChild(t.createTextNode(A))):d=t.createTextNode(A),a=l.title.cloneNode(!0),a.appendChild(d),h.appendChild(c.cloneNode(!0)),h.appendChild(a)):v&&(h.className+=" webmention--content-only",a=l.content.cloneNode(!0),E&&S?a.innerHTML=S.replace(/href/,'class="p-author h-card" href'):a.innerHTML=v,h.appendChild(a)),y.children.length>0&&h.appendChild(y),p.length<1?(u&&(u.parentNode.replaceChild(r,u),u=!1),r.appendChild(m)):r.replaceChild(m,p[0]),f.push(i),m=null,p=null,h=null,b=null,g=null,w=null,a=null,d=null,y=null,_=null)}}if("querySelectorAll"in t){"AG"in e||(e.AG={}),e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.host);var o,i,a,r=t.querySelectorAll(".webmentions__list"),l={a:t.createElement("a"),author_name:t.createElement("b"),article:t.createElement("article"),div:t.createElement("div"),photo:t.createElement("img"),li:t.createElement("li"),time:t.createElement("time")},c=t.createTextNode(" "),s=["January","February","March","April","May","June","July","August","September","October","November","December"],d=[e.location.href.replace("localhost","www.aaron-gustafson.com")],u=!1,p=t.querySelector('meta[property="webmention:redirected_from"]'),m=[],h=e.location.origin,f=[],b=0;if(p&&(i=p.getAttribute("content").split(","),i.forEach(function(e){d.push(e.indexOf("//")<0?h+e:e)}),i=!1),"http:"!=e.location.protocol&&(d.forEach(function(e){m.push(e),-1!=e.indexOf("https://")&&m.push(e.replace("https://","http://"))}),d=m,m=!1),r.length<1){if(u=t.querySelectorAll(".webmentions__not-found"),!u.length)return;u=u[0],r=t.createElement("ol"),r.className="webmentions__list"}else{for(r=r[0],a=r.querySelectorAll("[id^=webmention-]"),b=a.length;b--;)f.push(parseInt(a[b].getAttribute("id").replace("webmention-",""),10));a=null}if(l.li.className="webmentions__item",l.article.className="h-cite webmention",l.time.className="webmention__pubdate dt-published",l.author=l.div.cloneNode(),l.author.className="webmention__author p-author h-card",l.author_name.className="p-name",l.author_link=l.a.cloneNode(),l.author_link.className="u-url",l.photo.className="webmention__author__photo u-photo",l.photo.alt="",l.title=l.div.cloneNode(),l.title.className="webmention__title p-name",l.permalink=l.a.cloneNode(),l.permalink.className="webmention__source u-url",l.permalink.appendChild(t.createTextNode("Permalink")),l.content=l.div.cloneNode(),l.content.className="webmention__content p-content",l.meta=l.div.cloneNode(),l.meta.className="webmention__meta",e.AG.processWebmentions=function(e){"error"in e||(e.links.reverse(),e.links.forEach(n))},"preconnect"in e.AG&&(e.AG.preconnect("//webmention.io"),e.AG.preconnect("ws://webmention.io:8080")),o=t.createElement("script"),o.async=!0,o.src="//webmention.io/api/mentions?jsonp=window.AG.processWebmentions&amp;target[]="+d.join("&amp;target[]="),t.getElementsByTagName("head")[0].appendChild(o),r.length&&"WebSocket"in e){var N=new WebSocket("ws://webmention.io:8080");N.onopen=function(){N.send(e.location)},N.onmessage=function(e){n(JSON.parse(e.data))}}}}(this,this.document);