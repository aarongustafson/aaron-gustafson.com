/*------------------------------------*\
    Tables
\*------------------------------------*/

table {
    
    border-collapse: collapse;
    
    @include rem( margin, $margin-default );
    width: 100%;
	min-width: 100px;
    
    thead {

        border-bottom: 3px solid $color-rule;

        @include breakup-placeholder( small-caps );
        @include rem( font-size, $font-size-subtext );
        text-transform: uppercase;

        th {
            font-weight: bold;

			// Fix for bad WYSIWYG
			p {
				font-weight: bold;
				display: inline;
				margin: 0;
			}
        }
    }
    
    tbody {
        @include rem( font-size, $font-size-h4 );
    }
    
    tr {
        border-top: 1px solid $color-rule;
    }
    
    td,
    th {
        font-weight: normal;
        text-align: left;
        @include rem( padding, $table-spacing );
        padding-left: 0;
        
        &:last-child {
            padding-right: 0;
        }
        
        :last-child {
            margin-bottom: 0;
        }

		// chances are, these were intended as headers
		&[colspan] {
			font-weight: bold;
		}
    }

	th em {
		color: $color-text-light;
		font-style: normal;
		font-weight: normal;
	}
	
	.email {
        display: block;
        max-width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    // De-table on smaller screens
    // (using staff directory as a gauge)
    @include breakup-media( "only screen and (max-width: 770px)" ) {
        
        .layout-container__primary &,
        &.staff-directory {
    		border: 0;
    		padding-bottom: 0;
    		display: block;
    		width: 100%;

    		caption {
    			display: block;
    		}

    		thead {
    			display: none;
    		}

    		tbody,
    		tr,
    		th,
    		td {
    			border: 0;
    			display: block;
    			padding: 0;
    			text-align: left;
    		}

    		tr {
    			@include rem( margin, $margin-default );
    		}

    		th[data-title]:before,
    		td[data-title]:before {
    			content: attr(data-title) ":\00A0";
    			font-weight: bold;
    		}

    		th:not([data-title]) {
    			font-weight: bold;
    		}

    		td:empty {
    		    display: none;
    		}
        }
    	
    }
    
    @include breakup-breakpoint( "medium" )
    {
        &.striped {
            
            thead {
                background: $color-grey-light;
                border-bottom: 0;
            }
            
            tbody tr {
                
                background: $color-white-off;
                @include transition( background-color $default-transition );
                
                &:nth-child(even) {
                    background: mix( $color-white-off, $color-white, 50% );
                }
                
                &:hover {
                    background: $color-white;
                }
                
            }

            th,
            td {
                border: 1px solid $color-rule;
                @include rem( padding, $table-spacing );
            }

        }
    }
    
}

