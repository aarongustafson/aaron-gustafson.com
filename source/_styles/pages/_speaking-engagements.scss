/*------------------------------------*\
    Speaking Engagements
\*------------------------------------*/

.speaking-engagements {

	@include breakup-breakpoint('global') {
			
		.listing--events {

			// Flexbox!
			display: flex;
			flex-wrap: wrap;
			align-items: stretch;
			
		}

		.listing__item__meta {
			color: $color-off-white;
		}

		.listing__extra {
			
			border-top: 1px solid;
			margin: 20px -20px -20px;
			
			&__title {
				padding: 10px 20px;
				transition: background-color .25s ease-in-out;

				&:hover,
				&:focus {
					background-color: lighten($color-dark-teal,10%);
				}
			}

			&[open] {
				padding: 0 20px 20px;
			}

			&[open] .listing__extra__title {
				background-color: lighten($color-dark-teal,10%);
				margin: 0 -20px 20px;
			}
		}

	}

	.event {

		@include breakup-breakpoint('global') {
			
			border: 1px solid $color-grey-light;
			background: $color-dark-teal;
			color: $color-off-white;
			text-shadow: 1px 1px 1px $color-dark-teal;

			box-sizing: border-box;
			@include rem( padding, 20 );
			@include rem( margin, 0 20 20 0 );
			@include rem( min-height, 120 );
			flex: 0 0 100%;

			display: flex;
			flex-direction: column;
			justify-content: space-between;

			position: relative;

			a {
				color: $color-white;
				border-bottom: none;
			}

			.listing__item__title,
			.listing__item__meta {
				position: relative;
				z-index: 1;
			}

			&__location-picture {
				
				background: transparent center center no-repeat;
				background-size: cover;

				opacity: .35;
				filter: grayscale(100%);

				margin: 0;
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				z-index: 0;

				transition: opacity .5s ease-in-out;

			}

			& a:focus .event__location-picture,
			&:hover .event__location-picture {
				opacity: .05;
			}

			.listing__item__title {
				@include rem( font-size, 18 );
				line-height: 1.1;
  				@include rem( margin-bottom, 12 );

  				&--future .listing__item__title {
					@include rem( font-size, 24 );
  				}
			}

			&__presentation-type {
				font-weight: bold;
			}

			&__presentation-title {
				font-style: italic;
			}

			&__presentation-with {
				font-size: .8em;
				white-space: nowrap;
			}

		}

		@include breakup-breakpoint('small') {
			
			flex: 1 0 30%;

			// first if more >= 1
		    &--future:nth-last-child(n+1):first-child {
		    	flex: 0 1 96%;
		    }

		}

		@include breakup-breakpoint('full') {
		
			flex: 0 0 30%;

			&--future {

				// Only the lonely
				@include exactly(1) {
			        flex: 0 0 100%;

			        .listing__item__title {
						@include rem( font-size, 36 );
					}
			    }

			    // Reset Medium
				&:nth-last-child(n+1):first-child {
		    		flex: 0 0 30%;
		    	}

				// first two if more >= 2
			    &:nth-last-child(n+2):first-child,
			    &:nth-last-child(n+2):first-child + .event--future {
			    	flex: 1 0 46%;
			        
			        .listing__item__title {
						@include rem( font-size, 24 );
					}
			    }

			}

		}

	}

}